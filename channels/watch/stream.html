<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Watch Anime Episode</title>

  <!-- JWPlayer Script -->
  <script src="https://cdn.jwplayer.com/libraries/aVr2lJgW.js"></script>

  <!-- TailwindCSS CDN -->
  <script src="https://cdn.tailwindcss.com"></script>

  <style>
    /* White background for the entire page */
    body {
      background-color: #ffffff;
      color: #333;
      font-family: 'Arial', sans-serif;
    }

    /* White background for content container */
    .container {
      background-color: #ffffff;
    }

    /* Basic styling for anime poster and video player */
    #player {
      background-color: #000;
      width: 100%;
      height: 400px;
    }
  </style>
</head>
<body class="font-sans">

  <!-- Navbar -->
  <nav class="bg-gray-800">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="flex items-center justify-between h-16">
        <div class="flex items-center">
          <span class="text-xl font-bold text-white">AnimeStream</span>
        </div>
      </div>
    </div>
  </nav>

  <!-- Main content -->
  <main class="container mx-auto p-4 space-y-6">
    <section>
      <h2 class="text-xl font-semibold mb-2">Anime Title: <span id="anime-title">Loading...</span></h2>
    </section>

    <section>
      <div id="player" class="w-full aspect-video bg-black flex items-center justify-center text-gray-500 text-lg">
        Loading Player...
      </div>
    </section>

    <section class="mt-4">
      <h3 class="text-lg font-semibold mb-2">Anime Poster</h3>
      <img id="anime-poster" class="w-full h-auto rounded-lg" src="" alt="Anime Poster" />
    </section>

    <section class="mt-6">
      <h3 class="text-lg font-semibold mb-2">Anime Information</h3>
      <p><strong>Description:</strong> <span id="anime-description">Loading...</span></p>
      <p><strong>Genres:</strong> <span id="anime-genres">Loading...</span></p>
      <p><strong>Status:</strong> <span id="anime-status">Loading...</span></p>
    </section>
  </main>

  <footer class="bg-gray-800 p-4 mt-6 text-center text-sm text-gray-400">
    &copy; 2025 AnimeStream. All rights reserved.
  </footer>

  <script>
    // Fetch anime data from the provided JSON
    async function fetchAnimeData() {
      const animeData = {
        "animax": {
          "title": "Animax",
          "description": "An exciting adventure in the world of anime.",
          "genres": ["Action", "Adventure", "Sci-Fi"],
          "status": "Ongoing",
          "poster": "https://example.com/animax/poster.jpg",
          "episodes": [
            {
              "episode": 1,
              "m3u8": "https://amg02159-kcglobal-amg02159c1-samsung-in-521.playouts.now.amagi.tv/playlist/amg02159-kcglobal-animax-samsungin/playlist.m3u8"
            }
          ]
        }
      };

      const anime = animeData["animax"];
      if (anime) {
        // Set the anime title, description, genres, and status
        document.getElementById("anime-title").textContent = anime.title;
        document.getElementById("anime-description").textContent = anime.description;
        document.getElementById("anime-genres").textContent = anime.genres.join(", ");
        document.getElementById("anime-status").textContent = anime.status;

        // Set the poster image
        document.getElementById("anime-poster").src = anime.poster;

        // Initialize JWPlayer with the M3U8 URL for episode 1
        const episode = anime.episodes[0]; // Only one episode
        if (episode) {
          jwplayer("player").setup({
            file: episode.m3u8,
            image: anime.poster,
            width: "100%",
            height: "100%",
            aspectratio: "16:9",
            autostart: true,
            controls: true
          });
        }
      } else {
        document.getElementById("anime-title").textContent = "Anime not found.";
      }
    }

    // Call the function to fetch and render the anime data
    fetchAnimeData();
  </script>

</body>
</html>
