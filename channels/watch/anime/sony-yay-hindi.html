<!DOCTYPE html>
<html lang="en">

<head>
  
  <meta charset="UTF-8">
  <meta name="robots" content="noindex, nofollow" />
  <link rel="stylesheet" href="https://mikasa-ackerman-cdn.pages.dev/static/style.css">
  <script src="https://code.jquery.com/jquery-3.6.3.min.js"
    integrity="sha256-pvPw+upLPUjgMXY0G+8O0xUf+/Im1MZjXxxgOcBQBXU=" crossorigin="anonymous"></script>
  <script src='https://cdn.jwplayer.com/libraries/KB5zFt7A.js'></script>
<link rel="manifest" href="manifest.json">
<meta name="theme-color" content="#000000">
<link rel="apple-touch-icon" href="https://mikasa-ackerman-cdn.pages.dev/index.jpg">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
  

  <style>
    .wrap #player {
      position: absolute;
      height: 100% !important;
      width: 100% !important;
    }

    .wrap .btn {
      position: absolute;
      top: 15%;
      left: 90%;
      transform: translate(-50%, -50%);
      -ms-transform: translate(-50%, -50%);
      background-color: white;
      color: black;
      font-size: 12px;
      padding: 6px 12px;
      border: 1px solid white;
      cursor: pointer;
      border-radius: 5px;
    }

    @media screen and (max-width:600px) {
      .wrap .btn {
        font-size: 8px;
      }
    }
  </style>

</head>

<body>

  <div class="wrap">
    <div id="player"></div>
    <div id="skipIntro"></div>
  </div>

  <script>
    async function loadFinalM3U8() {
    const redirectUrl = "https://example.com/redirected.m3u8"; // your original m3u8 with redirect

    try {
      const response = await fetch(redirectUrl, {
        method: "GET",
        redirect: "follow",
      });

      const finalUrl = response.url;
      

let episodePoster = '';

fetch('https://jiotv.data.cdn.jio.com/apis/v1.3/getepg/get?offset=0&channel_id=872')
  .then(res => res.json())
  .then(data => {
    const now = Date.now();
    const baseUrl = 'https://jiotvimages.cdn.jio.com/dare_images/shows/800/-/';
    const episode = data.epg.find(ep => now >= ep.startEpoch && now < ep.endEpoch);
    if (episode && episode.episodeThumbnail) {
      episodePoster = baseUrl + episode.episodeThumbnail;
      console.log('Current Episode Poster:', episodePoster);

      // Set up JWPlayer once the poster is retrieved
      const playerInstance = jwplayer("player").setup({
        controls: true,
        displaytitle: true,
        displaydescription: true,
        abouttext: "Animax",
        aboutlink: "https://mikasa-ackerman-cdn.pages.dev/channels/watch/anime/sony-yay-hindi",
        autostart: "viewable",

        skin: {
          name: "netflix"
        },
        logo: {
          file: "",
          link: "https://mikasa-ackerman-cdn.pages.dev/channels/watch/anime/sony-yay-hindi"
        },
        fullscreen: true,
        playlist: [{
          title: "SonyYAY Hindi",
          description: "You're Watching",
          image: episodePoster,
          tracks: [{
            kind: "captions",
            file: "",
            label: ""
          }],
          
          sources: [{
            file: finalUrl
          }]
        }],
        advertising: {
          client: "vast",
          schedule: [{
            offset: "pre",
            tag: ""
          }]
        }
        
      });

      playerInstance.on("ready", function () {

function _0x4f2a() {
const _0xfa02f3 = ['insertBefore', 'Backward\x2010\x20Seconds', 'transform', '5625728xhvJDv', '676207iRnOYL', 'none', 'getContainer', 'nextElementSibling', 'forEach', '.jw-spacer', '6VEpRzT', '2190088RRBjkd', '9JxBILB', '3030461FPaPlN', 'display', '.jw-button-container', 'ariaLabel', 'seek', '2991576pDJDBo', '4516835sGtOCF', '2piCEpC', 'getPosition', 'replaceChild', '714032PzqJKY', 'Forward\x2010\x20Seconds', 'querySelector', '.jw-display-icon-next', '.jw-icon-rewind', 'scaleX(-1)', '.jw-display-icon-rewind', '100uIMjWu', 'parentNode', 'style']; _0x4f2a = function() {
return _0xfa02f3;
}; return _0x4f2a();
}const _0x3bbac1 = _0x4544; (function(_0xc446d7, _0x24dc21) {
const _0x32891b = _0x4544, _0x1c51b3 = _0xc446d7(); while (!![]) {
try {
const _0x1c92a8=-parseInt(_0x32891b(0x111))/0x1*(-parseInt(_0x32891b(0x100))/0x2)+parseInt(_0x32891b(0x11f))/0x3+parseInt(_0x32891b(0x118))/0x4+parseInt(_0x32891b(0xff))/0x5*(-parseInt(_0x32891b(0x117))/0x6)+-parseInt(_0x32891b(0x11a))/0x7+-parseInt(_0x32891b(0x110))/0x8*(parseInt(_0x32891b(0x119))/0x9)+parseInt(_0x32891b(0x10a))/0xa*(parseInt(_0x32891b(0x103))/0xb); if (_0x1c92a8 === _0x24dc21)break; else _0x1c51b3['push'](_0x1c51b3['shift']());
}catch(_0x702cd1) {
_0x1c51b3['push'](_0x1c51b3['shift']());
}}}(_0x4f2a, 0xcac47)); function _0x4544(_0x5017e7,
_0x1e2523) {
const _0x4f2a22 = _0x4f2a(); return _0x4544 = function(_0x454450,
_0x118037) {
_0x454450 = _0x454450-0xff; let _0x207852 = _0x4f2a22[_0x454450]; return _0x207852;
}, _0x4544(_0x5017e7,
_0x1e2523);
}const playerContainer = playerInstance[_0x3bbac1(0x113)](), buttonContainer = playerContainer[_0x3bbac1(0x105)](_0x3bbac1(0x11c)), spacer = buttonContainer[_0x3bbac1(0x105)](_0x3bbac1(0x116)), timeSlider = playerContainer['querySelector']('.jw-slider-time'); buttonContainer[_0x3bbac1(0x102)](timeSlider,
spacer); const player = playerInstance, rewindContainer = playerContainer[_0x3bbac1(0x105)](_0x3bbac1(0x109)), forwardContainer = rewindContainer['cloneNode'](!![]), forwardDisplayButton = forwardContainer['querySelector'](_0x3bbac1(0x107)); forwardDisplayButton[_0x3bbac1(0x10c)]['transform'] = 'scaleX(-1)', forwardDisplayButton[_0x3bbac1(0x11d)] = _0x3bbac1(0x104); const nextContainer = playerContainer[_0x3bbac1(0x105)](_0x3bbac1(0x106)); nextContainer['parentNode'][_0x3bbac1(0x10d)](forwardContainer,
nextContainer), playerContainer[_0x3bbac1(0x105)](_0x3bbac1(0x106))[_0x3bbac1(0x10c)][_0x3bbac1(0x11b)] = _0x3bbac1(0x112); const rewindControlBarButton = buttonContainer[_0x3bbac1(0x105)](_0x3bbac1(0x107)); rewindControlBarButton[_0x3bbac1(0x11d)] = _0x3bbac1(0x10e); const forwardControlBarButton = rewindControlBarButton['cloneNode'](!![]); forwardControlBarButton[_0x3bbac1(0x10c)][_0x3bbac1(0x10f)] = _0x3bbac1(0x108), forwardControlBarButton['ariaLabel'] = _0x3bbac1(0x104), rewindControlBarButton[_0x3bbac1(0x10b)]['insertBefore'](forwardControlBarButton,
rewindControlBarButton[_0x3bbac1(0x114)]), [forwardDisplayButton, forwardControlBarButton][_0x3bbac1(0x115)](_0x57fe75 => {
_0x57fe75['onclick'] = ()=> {
const _0x364d9b = _0x4544; player[_0x364d9b(0x11e)](player[_0x364d9b(0x101)]()+0xa);
};
});

        
      });
    } else {
      console.log('No current episode found');
    }
  })
  .catch(error => console.error('Error fetching data:', error));
    
    
  </script>

  <script>
  if ('serviceWorker' in navigator) {
      navigator.serviceWorker.register('sw.js')
        .then(reg => console.log('✅ Service Worker registered', reg))
        .catch(err => console.error('❌ Service Worker registration failed', err));
    }
  </script>
</body>

  </html>
